<template>
  <div class="fixed inset-0 bg-white z-[9999] flex items-center justify-center">
    <div class="relative w-full max-w-2xl px-2">
      <svg class="w-full h-auto" viewBox="0 0 1400 250">
        <path ref="logoPath" class="logo-path" fill="none" stroke="#393b54" stroke-width="3" :d="pathData" />
        <circle ref="ball" class="ball z-10" cx="0" cy="0" :r="ballRadius" fill="#5C2D23" />
      </svg>
    </div>
  </div>
</template>

<script setup>
import { gsap } from 'gsap'
import { MotionPathPlugin } from 'gsap/MotionPathPlugin'

const ballRadius = ref(10);

const pathData = "M 329.883 120.56 L 308.203 120.56 L 308.203 2.64 L 334.717 2.64 L 353.613 54.935 A 394.986 394.986 0 0 1 354.721 58.149 Q 356.506 63.395 359.033 71.195 A 13706.27 13706.27 0 0 1 360.492 75.7 Q 362.165 80.871 363.083 83.726 A 1192.123 1192.123 0 0 1 363.574 85.257 L 364.16 85.257 A 193.659 193.659 0 0 0 364.63 83.896 Q 365.786 80.509 368.421 72.552 A 4392.196 4392.196 0 0 0 368.628 71.927 A 1358.194 1358.194 0 0 1 370.28 66.965 Q 372.656 59.879 374.414 54.935 L 393.018 2.64 L 419.678 2.64 L 419.678 120.56 L 398.145 120.56 L 398.145 71.195 Q 398.145 57.279 400.488 34.427 L 399.756 34.427 L 390.527 62.406 L 371.777 114.408 L 356.104 114.408 L 337.646 62.406 L 328.125 34.281 L 327.393 34.281 Q 329.299 50.655 329.746 63.594 A 220.5 220.5 0 0 1 329.883 71.195 L 329.883 120.56 Z M 659.18 120.56 L 637.5 120.56 L 637.5 2.64 L 664.014 2.64 L 682.91 54.935 A 394.986 394.986 0 0 1 684.018 58.149 Q 685.803 63.395 688.33 71.195 A 13706.27 13706.27 0 0 1 689.789 75.7 Q 691.462 80.871 692.38 83.726 A 1192.123 1192.123 0 0 1 692.871 85.257 L 693.457 85.257 A 193.659 193.659 0 0 0 693.927 83.896 Q 695.083 80.509 697.718 72.552 A 4392.196 4392.196 0 0 0 697.925 71.927 A 1358.194 1358.194 0 0 1 699.577 66.965 Q 701.953 59.879 703.711 54.935 L 722.314 2.64 L 748.975 2.64 L 748.975 120.56 L 727.441 120.56 L 727.441 71.195 Q 727.441 57.279 729.785 34.427 L 729.053 34.427 L 719.824 62.406 L 701.074 114.408 L 685.4 114.408 L 666.943 62.406 L 657.422 34.281 L 656.689 34.281 Q 658.596 50.655 659.043 63.594 A 220.5 220.5 0 0 1 659.18 71.195 L 659.18 120.56 Z M 900.879 29.154 L 882.129 35.16 Q 880.536 32.77 879.214 30.99 A 54.373 54.373 0 0 0 878.027 29.447 A 32.98 32.98 0 0 0 876.559 27.744 Q 875.761 26.876 874.796 25.924 A 73.741 73.741 0 0 0 873.193 24.393 Q 870.117 21.537 866.162 20.145 A 24.446 24.446 0 0 0 860.628 18.922 A 30.636 30.636 0 0 0 857.373 18.753 Q 842.854 18.753 834.613 29.968 A 33.477 33.477 0 0 0 834.302 30.399 Q 826.025 42.044 826.025 61.527 A 73.88 73.88 0 0 0 827.029 74.087 Q 828.946 85.184 834.521 92.874 A 30.649 30.649 0 0 0 841.594 100.016 A 25.169 25.169 0 0 0 856.494 104.593 Q 867.92 104.593 874.512 98.294 A 25.136 25.136 0 0 0 881.712 85.25 A 32.935 32.935 0 0 0 882.275 81.888 A 1562.702 1562.702 0 0 0 882.413 79.95 Q 882.861 73.557 882.861 72.66 L 855.176 72.66 L 855.176 53.91 L 903.955 53.91 L 903.955 120.56 L 889.014 120.56 L 886.963 110.013 Q 877.44 122.617 857.607 123.171 A 66.093 66.093 0 0 1 855.762 123.197 A 49.024 49.024 0 0 1 832.628 117.765 A 50.665 50.665 0 0 1 818.408 106.498 Q 803.467 89.798 803.467 61.527 A 81.265 81.265 0 0 1 805.792 41.583 A 59.58 59.58 0 0 1 818.115 17.289 Q 832.764 0.003 857.227 0.003 A 47.029 47.029 0 0 1 868.808 1.399 A 42.911 42.911 0 0 1 871.582 2.201 Q 877.787 4.224 882.191 7.055 A 32.296 32.296 0 0 1 882.935 7.547 Q 887.549 10.697 891.431 14.872 A 68.067 68.067 0 0 1 894.085 17.889 Q 895.301 19.364 896.253 20.722 A 31.563 31.563 0 0 1 897.363 22.416 Q 899.414 25.785 900.879 29.154 Z M 524.121 120.56 L 444.141 120.56 L 444.141 2.64 L 522.656 2.64 L 522.656 21.39 L 465.967 21.39 L 465.967 50.394 L 517.09 50.394 L 517.09 68.851 L 465.967 68.851 L 465.967 101.957 L 524.121 101.957 L 524.121 120.56 Z M 620.801 120.56 L 540.82 120.56 L 540.82 2.64 L 619.336 2.64 L 619.336 21.39 L 562.646 21.39 L 562.646 50.394 L 613.77 50.394 L 613.77 68.851 L 562.646 68.851 L 562.646 101.957 L 620.801 101.957 L 620.801 120.56 Z M 21.68 120.56 L 0 120.56 L 0 2.64 L 21.68 2.64 L 21.68 50.687 L 66.064 50.687 L 66.064 2.64 L 87.891 2.64 L 87.891 120.56 L 66.064 120.56 L 66.064 69.291 L 21.68 69.291 L 21.68 120.56 Z M 1143.75 76.029 L 1143.75 2.64 L 1165.723 2.64 L 1165.723 76.175 Q 1165.723 104.593 1187.842 104.593 A 24.532 24.532 0 0 0 1197.81 102.719 Q 1208.258 98.11 1209.829 82.173 A 61.231 61.231 0 0 0 1210.107 76.175 L 1210.107 2.64 L 1232.08 2.64 L 1232.08 76.029 A 75.592 75.592 0 0 1 1230.945 89.571 Q 1228.538 102.775 1221.021 111.039 A 34.932 34.932 0 0 1 1205.079 120.87 Q 1197.519 123.197 1187.842 123.197 A 61.747 61.747 0 0 1 1174.96 121.935 Q 1162.852 119.352 1155.176 111.478 Q 1145.993 102.06 1144.19 84.882 A 84.919 84.919 0 0 1 1143.75 76.029 Z M 945.41 120.56 L 923.584 120.56 L 923.584 2.64 L 971.924 2.64 Q 990.381 2.64 1000.269 12.235 A 32.134 32.134 0 0 1 1010.141 35.341 A 42.543 42.543 0 0 1 1010.156 36.478 Q 1010.156 45.769 1007.162 52.28 A 24.656 24.656 0 0 1 1005.029 56.034 Q 999.902 63.431 993.018 66.361 A 34.883 34.883 0 0 1 996.561 69.269 Q 998.314 70.926 999.55 72.647 A 18.098 18.098 0 0 1 1000.635 74.344 A 21.172 21.172 0 0 1 1001.981 77.317 Q 1003.19 80.566 1004.101 85.38 A 89.718 89.718 0 0 1 1004.443 87.308 A 91.944 91.944 0 0 0 1010.101 105.695 A 123.78 123.78 0 0 0 1017.627 120.56 L 993.311 120.56 A 81.778 81.778 0 0 1 987.129 107.82 Q 984.658 101.455 982.779 94.006 A 149.283 149.283 0 0 1 981.592 88.919 Q 980.07 82.003 977.438 78.548 A 12.135 12.135 0 0 0 977.124 78.153 Q 974.627 75.143 969.61 74.765 A 19.885 19.885 0 0 0 968.115 74.71 L 945.41 74.71 L 945.41 120.56 Z M 122.607 120.56 L 99.463 120.56 L 141.65 2.64 L 165.088 2.64 L 207.275 120.56 L 184.131 120.56 L 175.195 92.728 L 131.543 92.728 L 122.607 120.56 Z M 1277.637 120.56 L 1255.811 120.56 L 1255.811 2.64 L 1302.393 2.64 Q 1317.368 2.64 1327.053 8.988 A 32.126 32.126 0 0 1 1331.763 12.748 A 33.794 33.794 0 0 1 1341.927 33.808 A 46.731 46.731 0 0 1 1342.236 39.261 A 43.145 43.145 0 0 1 1340.785 50.762 A 31.342 31.342 0 0 1 1331.47 65.995 Q 1320.703 75.736 1302.832 75.736 L 1277.637 75.736 L 1277.637 120.56 Z M 1038.281 16.922 A 54.351 54.351 0 0 0 1035.513 20.553 Q 1024.219 36.731 1024.219 61.673 Q 1024.219 73.198 1026.617 82.838 A 58.216 58.216 0 0 0 1038.208 106.351 A 44.964 44.964 0 0 0 1057.443 120.199 A 51.4 51.4 0 0 0 1075.342 123.197 A 60.248 60.248 0 0 0 1079.601 123.049 A 45.153 45.153 0 0 0 1112.476 106.351 A 53.962 53.962 0 0 0 1115.879 101.781 Q 1122.092 92.451 1124.658 80.259 A 90.217 90.217 0 0 0 1126.465 61.673 A 108.276 108.276 0 0 0 1126.444 59.549 Q 1125.927 33.191 1112.476 16.922 A 44.97 44.97 0 0 0 1093.241 3.015 A 51.2 51.2 0 0 0 1075.342 0.003 A 59.293 59.293 0 0 0 1071.108 0.152 A 45.204 45.204 0 0 0 1038.281 16.922 Z M 1046.777 61.673 A 84.087 84.087 0 0 0 1047.629 74.034 Q 1049.312 85.336 1054.321 93.021 Q 1061.559 104.124 1074.259 104.574 A 30.572 30.572 0 0 0 1075.342 104.593 Q 1087.533 104.593 1094.884 94.975 A 32.01 32.01 0 0 0 1096.216 93.094 Q 1103.76 81.595 1103.76 61.673 A 84.897 84.897 0 0 0 1102.917 49.312 Q 1101.979 42.955 1099.999 37.742 A 39.448 39.448 0 0 0 1096.289 30.326 A 26.52 26.52 0 0 0 1089.555 23.064 Q 1084.035 19.09 1076.613 18.78 A 30.42 30.42 0 0 0 1075.342 18.753 A 24.417 24.417 0 0 0 1064.1 21.296 Q 1059.325 23.728 1055.698 28.484 A 32.557 32.557 0 0 0 1054.395 30.326 Q 1046.777 41.898 1046.777 61.673 Z M 288.135 71.781 L 214.307 71.781 L 214.307 53.177 L 288.135 53.177 L 288.135 71.781 Z M 1277.637 21.39 L 1277.637 57.132 L 1299.756 57.132 A 31.655 31.655 0 0 0 1305.547 56.636 Q 1308.853 56.02 1311.457 54.64 A 16.189 16.189 0 0 0 1314.551 52.518 A 14.931 14.931 0 0 0 1319.283 44.385 A 22.869 22.869 0 0 0 1319.824 39.261 A 23.265 23.265 0 0 0 1319.246 33.909 Q 1318.102 29.069 1314.697 26.004 A 16.437 16.437 0 0 0 1308.688 22.636 Q 1306.188 21.823 1303.148 21.541 A 36.688 36.688 0 0 0 1299.756 21.39 L 1277.637 21.39 Z M 145.898 47.464 L 137.109 75.296 L 169.482 75.296 L 160.84 47.464 Q 157.91 37.796 153.809 23.734 L 152.93 23.734 Q 152.032 26.986 150.405 32.471 A 1211.655 1211.655 0 0 1 149.341 36.039 A 8027.723 8027.723 0 0 1 148.219 39.774 Q 146.831 44.393 146.069 46.902 A 867.803 867.803 0 0 1 145.898 47.464 Z M 945.41 21.39 L 945.41 56.107 L 967.969 56.107 A 31.068 31.068 0 0 0 973.664 55.618 Q 976.848 55.024 979.355 53.707 A 15.651 15.651 0 0 0 982.471 51.566 A 14.553 14.553 0 0 0 986.877 44.23 Q 987.508 41.869 987.586 39.05 A 29.13 29.13 0 0 0 987.598 38.236 A 18.695 18.695 0 0 0 986.836 32.764 A 14.538 14.538 0 0 0 982.397 25.931 A 17.172 17.172 0 0 0 975.925 22.456 Q 973.365 21.69 970.299 21.474 A 35.357 35.357 0 0 0 967.822 21.39 L 945.41 21.39 Z"





const ball = ref(null)
const logoPath = ref(null)

onMounted(() => {
  gsap.registerPlugin(MotionPathPlugin)

  // Set initial positions
  gsap.set(ball.value, {
    xPercent: -50,
    yPercent: -50,
    transformOrigin: "50% 50%"
  })

  // Create animation timeline
  const timeline = gsap.timeline({ repeat: -1 })

  timeline.to(ball.value, {
    duration: 8,
    ease: "power1.inOut",
    motionPath: {
      path: logoPath.value,
      align: logoPath.value,
      alignOrigin: [0.5, 0.5],
      start: 0,
      end: 1
    }
  })
})

onBeforeUnmount(() => {
  gsap.globalTimeline.clear()
})
</script>

<style scoped>
.logo-path {
  stroke-dasharray: 2500;
  stroke-dashoffset: 2500;
  animation: draw 8s ease-out forwards;
}

@keyframes draw {
  to {
    stroke-dashoffset: 0;
  }
}

.ball {
  filter: drop-shadow(0 0 4px rgba(100, 200, 152, 0.3));
}
</style>